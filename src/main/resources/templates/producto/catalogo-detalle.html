<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.w3.org/1999/xhtml"
      layout:decorate="~{/layouts/_mainLayout}">
<head>
    <meta charset="UTF-8">
    <title>Detalle del producto</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<body>

<div layout:fragment="content" class="container mt-4">

    <h2 class="mb-3 text-primary">Detalle del producto</h2>

    <div class="card shadow-sm p-3">
        <div class="row g-3">
            <!-- Imagen -->
            <div class="col-md-5 text-center">
                <img th:if="${producto.imagen_url != null}"
                     th:src="@{/productos/imagen/{id}(id=${producto.id})}"
                     class="img-fluid rounded border"
                     style="max-height: 300px; object-fit: contain;"/>
                <span th:if="${producto.imagen_url == null}" class="text-muted">Sin imagen</span>
            </div>

            <!-- Info -->
            <div class="col-md-7">
                <h3 th:text="${producto.nombre}" class="fw-bold"></h3>
                <p th:text="${producto.descripcion}"></p>

                <h4 class="text-success">$<span th:text="${producto.precio_venta}"></span></h4>

                <p>
                    <strong>Disponibilidad:</strong>
                    <span th:if="${producto.stock_actual > producto.stock_minimo}"
                          class="badge bg-success">En stock</span>
                    <span th:if="${producto.stock_actual <= producto.stock_minimo && producto.stock_actual > 0}"
                          class="badge bg-warning text-dark">Pocas unidades</span>
                    <span th:if="${producto.stock_actual == 0}"
                          class="badge bg-danger">Agotado</span>
                </p>

                <div class="mt-3 d-flex gap-2">
                    <a th:href="@{/productos/catalogo}" class="btn btn-secondary">
                        <i class="bi bi-arrow-left"></i> Volver al cat√°logo
                    </a>
                </div>
            </div>
        </div>
    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>